<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>HELALINK • Official Launch 13 Sep 2025 (2PM EAT)</title>
  <meta name="description" content="HELALINK – Online business platform. Launching 13 Sep 2025. Join now, get updates, and start earning through multiple methods." />

  <!-- Open Graph / Social -->
  <meta property="og:title" content="HELALINK • Official Launch 13 Sep 2025 (2PM EAT)" />
  <meta property="og:description" content="A next-gen online business platform with multiple ways of earning. Join the launch waitlist today!" />
  <meta property="og:image" content="https://yourdomain.com/helalink-og.jpg" />
  <meta property="og:type" content="website" />
  <link rel="icon" type="image/png" href="/favicon.png" />

  <!-- Tailwind + Fonts -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;600;700&family=Inter:wght@400;600;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#03040a;--card:#071026;--muted:#94a3b8;
      --glass: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    }
    html,body{min-height:100%;background:linear-gradient(180deg,#02020a 0%, #04061a 100%);color:#e6eef8;font-family:Inter,system-ui,-apple-system,'Segoe UI',Roboto;margin:0;padding:0}

    /* Typing + rainbow text */
    .rainbow{background:linear-gradient(90deg,#ff0066,#ffcc00,#33ff00,#00ccff,#7a00ff);background-size:600% 100%;-webkit-background-clip:text;background-clip:text;color:transparent;animation:slide 7s linear infinite}
    @keyframes slide{0%{background-position:0% 50%}100%{background-position:100% 50%}}
    .caret::after{content:"|";margin-left:6px;animation:blink 1s step-end infinite}
    @keyframes blink{50%{opacity:0}}

    /* Rocket star layers */
    .rocket-viewport{position:relative;height:360px;border-radius:16px;overflow:hidden;background:radial-gradient(ellipse at center,#04102a 0%, #000814 60%);box-shadow:0 10px 40px rgba(0,0,0,.7)}
    .stars{position:absolute;inset:0;background-repeat:repeat;pointer-events:none}
    .stars.layer1{background-image:radial-gradient(2px 2px at 20px 30px, rgba(255,255,255,.9) 40%, transparent 41%);background-size:1200px 600px;animation:move1 28s linear infinite}
    .stars.layer2{background-image:radial-gradient(1.2px 1.2px at 80px 120px, rgba(255,255,255,.6) 40%, transparent 41%);background-size:900px 450px;animation:move2 18s linear infinite}
    .stars.layer3{background-image:radial-gradient(0.9px 0.9px at 200px 90px, rgba(255,255,255,.35) 40%, transparent 41%);background-size:600px 300px;animation:move3 10s linear infinite}
    @keyframes move1{from{transform:translateX(0) translateY(0)}to{transform:translateX(-1200px) translateY(-400px)}}
    @keyframes move2{from{transform:translateX(0) translateY(0)}to{transform:translateX(-900px) translateY(-250px)}}
    @keyframes move3{from{transform:translateX(0) translateY(0)}to{transform:translateX(-600px) translateY(-120px)}}

    /* Shiny colorful animated border (per-card via CSS variable --g) */
    .shiny-card {
      position: relative;
      border-radius: 14px;
      overflow: visible;
      padding: 18px;
      background: var(--glass);
      border: 1px solid rgba(255,255,255,0.04);
      transition: transform .18s ease, box-shadow .18s ease, transform .18s ease;
      cursor: pointer;
    }
    .shiny-card:hover{ transform: translateY(-6px); box-shadow: 0 18px 40px rgba(2,6,23,.75) }
    .shiny-card::before{
      content: "";
      position: absolute;
      inset: -3px;
      border-radius: 16px;
      padding: 3px;
      background: var(--g, conic-gradient(#ff0066,#ffcc00,#33ff00,#00ccff,#7a00ff));
      -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
      -webkit-mask-composite: xor;
              mask-composite: exclude;
      animation: spin 5s linear infinite;
      z-index: -1;
    }
    @keyframes spin { to { transform: rotate(360deg); } }

    .shiny-card.selected { box-shadow: 0 22px 44px rgba(99,102,241,0.12); transform: translateY(-8px) scale(1.02); z-index: 40; }
    .interest-badge { font-size: 12px; padding: 6px 8px; border-radius: 999px; background: rgba(255,255,255,0.04); display:inline-block; }

    .glass{background:var(--glass);border-radius:12px;border:1px solid rgba(255,255,255,0.04);backdrop-filter:blur(6px)}
    .text-slate-400 { color: #cbd5e1; }

    /* joiner card */
    .joiner-card{display:flex;align-items:center;gap:12px;padding:12px;border-radius:12px;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.04)}
    .active-dot{width:10px;height:10px;border-radius:999px;background:#22c55e;box-shadow:0 0 8px #22c55e}
    .dot-pulse::after{content:"";position:absolute;left:-6px;top:-6px;width:22px;height:22px;border-radius:50%;background:rgba(34,197,94,0.12);animation:pulse 1.6s infinite}
    @keyframes pulse{0%{transform:scale(.6);opacity:1}100%{transform:scale(1.6);opacity:0}}

    /* triangle marker (moving triangular indicator) */
    #triangleMarker {
      position: absolute;
      width: 28px;
      height: 20px;
      pointer-events: none;
      transform-origin: center;
      transition: transform 420ms cubic-bezier(.2,.9,.2,1), opacity 220ms ease;
      z-index: 60;
      opacity: 0;
      filter: drop-shadow(0 8px 18px rgba(0,0,0,.6));
    }
    #separatorLine {
      position: absolute;
      left: 0;
      right: 0;
      height: 60px;
      pointer-events: none;
      z-index: 30;
      overflow: visible;
      opacity: 0;
      transition: opacity 240ms ease;
    }
    /* animated dash for shiny separator */
    .shiny-stroke {
      stroke-linecap: round;
      stroke-width: 3.6;
      stroke-dasharray: 240;
      stroke-dashoffset: 240;
      animation: dash 1.6s linear infinite;
    }
    @keyframes dash { to { stroke-dashoffset: 0; } }

    /* Responsive tweak */
    @media (max-width:768px){ .rocket-viewport{height:240px} }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="sticky top-0 z-40 border-b border-white/5 bg-[#020316]/60 backdrop-blur">
    <div class="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between">
      <div class="text-sm text-slate-300">Official Launch <span class="font-semibold">13 Sep 2025, 2:00 PM EAT</span></div>
      <div id="countdown" class="text-sm font-semibold text-slate-200" aria-live="polite"></div>
    </div>
  </header>

  <main class="max-w-6xl mx-auto px-4 pt-10 pb-28" id="pageRoot" style="position:relative;">
    <!-- Hero & Rocket -->
    <section class="grid md:grid-cols-2 gap-8 items-start">
      <div>
        <h1 class="text-4xl md:text-6xl font-extrabold leading-tight">
          <span class="rainbow">HELALINK</span>
          <span class="block mt-2 caret" id="type" aria-hidden="true"></span>
        </h1>
        <p class="mt-5 text-slate-300 max-w-prose">A next-gen online business platform. Set new records in networking and unlock multiple earning streams. Don’t miss the launch — secure your spot now.</p>

        <div class="mt-6 flex gap-3">
          <a href="#join" class="px-5 py-3 rounded-2xl bg-gradient-to-r from-cyan-500/30 to-indigo-500/20 border border-cyan-400/20 text-cyan-200 font-semibold hover:scale-[1.02] transition" aria-label="Join the waitlist">Join the Waitlist</a>

          <!-- Button triggers OneSignal permission -->
          <button id="notifyBtn" class="px-5 py-3 rounded-2xl bg-emerald-500/20 border border-emerald-400/30 text-emerald-200 font-semibold hover:scale-[1.02] transition" aria-label="Enable Notifications">Enable Notifications</button>

          <a href="https://wa.me/254717028877?text=Hi%20HELALINK%20team!%20I%20want%20to%20join%20the%20launch%20waitlist." target="_blank" class="px-4 py-3 rounded-2xl bg-amber-500/10 border border-amber-400/20 text-amber-300 font-semibold hover:scale-[1.02] transition" aria-label="Join via WhatsApp">Join via WhatsApp</a>
        </div>

        <p class="mt-3 text-xs text-slate-400">We’ll send launch alerts and offers. You can opt out anytime.</p>

        <div class="mt-4 glass rounded-2xl p-4" role="note">
          <h4 class="font-semibold">Notification schedule (example)</h4>
          <p class="text-sm text-slate-300">If you enable notifications we'll register your browser token with OneSignal and can send 3 scheduled notifications: <strong>24 hours before</strong>, <strong>1 hour before</strong>, and <strong>at launch</strong>. You can also tag interests for targeted campaigns.</p>
        </div>
      </div>

      <div class="rocket-viewport relative glass p-6" aria-hidden="true">
        <div class="stars layer1"></div>
        <div class="stars layer2"></div>
        <div class="stars layer3"></div>

        <div class="rocket-center" style="position:absolute;left:50%;top:48%;transform:translate(-50%,-50%);z-index:20;pointer-events:none">
          <!-- Rocket SVG -->
          <svg class="rocket-svg" viewBox="0 0 120 240" xmlns="http://www.w3.org/2000/svg" width="220" aria-hidden="true">
            <defs>
              <linearGradient id="rb2" x1="0" x2="1"><stop offset="0%" stop-color="#60a5fa"/><stop offset="100%" stop-color="#a78bfa"/></linearGradient>
            </defs>
            <g>
              <path d="M60 14 C74 40 78 84 78 114 L42 114 C42 84 46 40 60 14Z" fill="url(#rb2)" stroke="#ffffff14" stroke-width="1"/>
              <rect x="44" y="114" width="32" height="46" rx="8" fill="#ffffff09"/>
              <circle cx="60" cy="64" r="12" fill="#020316" stroke="#c7d2fe" stroke-width="1"/>
              <g id="flame">
                <path d="M60 158 C54 182 54 210 60 226 C66 210 66 182 60 158Z" fill="#fb923c"/>
                <path d="M60 170 C56 188 56 200 60 212 C64 200 64 188 60 170Z" fill="#ef4444"/>
              </g>
              <text x="60" y="58" text-anchor="middle" style="font-family:'Space Grotesk',Inter,system-ui;fill:#ffffffcc;font-weight:700;font-size:10px;letter-spacing:2px">HELALINK</text>
            </g>
          </svg>
        </div>

        <div class="absolute left-4 bottom-4 p-3 rounded-lg bg-white/3 text-sm font-semibold">Preparing for Liftoff • 13 Sep 2025 • 2:00 PM EAT</div>
      </div>
    </section>

    <!-- Ways of earning -->
    <section id="earn" class="mt-12" style="position:relative;">
      <h2 class="text-2xl md:text-3xl font-bold mb-6">Ways of earning <span class="rainbow">HELALINK Agencies — drop incoming</span></h2>

      <!-- SVG separator (animated line) sits above the cards, we'll position & draw a path as needed -->
      <svg id="separatorLine" viewBox="0 0 1200 60" preserveAspectRatio="none" aria-hidden="true">
        <defs>
          <linearGradient id="sepGrad" x1="0" x2="1">
            <stop offset="0%" stop-color="#ff9f9f" stop-opacity="1"/>
            <stop offset="50%" stop-color="#9b7bff" stop-opacity="1"/>
            <stop offset="100%" stop-color="#66e0ff" stop-opacity="1"/>
          </linearGradient>
        </defs>
        <path id="sepPath" d="" class="shiny-stroke" stroke="url(#sepGrad)" fill="none" stroke-linecap="round"/>
      </svg>

      <!-- Triangular marker -->
      <svg id="triangleMarker" viewBox="0 0 28 20" aria-hidden="true">
        <defs>
          <linearGradient id="triGrad" x1="0" x2="1">
            <stop offset="0%" stop-color="#fff" stop-opacity="0.95"/>
            <stop offset="100%" stop-color="#fff" stop-opacity="0.6"/>
          </linearGradient>
        </defs>
        <polygon points="14,0 28,20 0,20" fill="url(#triGrad)" opacity="0.95"/>
      </svg>

      <div class="grid md:grid-cols-3 gap-4" id="earnGrid">
        <!-- Card 1 - Affiliate -->
        <article class="shiny-card" data-key="affiliate" role="button" tabindex="0" aria-pressed="false" style="--g: conic-gradient(#ff7ab6, #ffcd5c, #7ef080, #66e0ff, #9b7bff);">
          <div class="flex items-start justify-between">
            <div>
              <h3 class="earn-title rainbow font-bold text-lg">1. Multi-level Affiliate Program</h3>
              <p class="mt-2 text-sm text-slate-200">Refer users and agencies to HELALINK and earn multi-tier commissions. Earn from direct referrals plus a percentage of activity from your network tiers.</p>
            </div>
            <div class="ml-2 text-xs text-slate-400">
              <span class="interest-badge">Agencies</span>
            </div>
          </div>
          <div class="mt-3 flex items-center justify-between">
            <a class="px-3 py-2 rounded-lg bg-white/6 text-sm" href="https://wa.me/254717028877?text=I%20want%20to%20join%20HELALINK%20affiliate" target="_blank" aria-label="Join affiliate via WhatsApp">Join via WhatsApp</a>
          </div>
        </article>

        <!-- Card 2 - Videos -->
        <article class="shiny-card" data-key="videos" role="button" tabindex="0" aria-pressed="false" style="--g: conic-gradient(#ffd2a6,#ff9fce,#b8f2e6,#a7c7ff,#d7baff);">
          <h3 class="earn-title rainbow font-bold text-lg">2. Watch Sponsored Videos</h3>
          <p class="mt-2 text-sm text-slate-200">Watch short sponsored YouTube and TikTok videos, validate the views, and receive credits. Credits convert to cash or platform features like roulette.</p>
          <div class="mt-3 flex items-center justify-between">
            <a class="px-3 py-2 rounded-lg bg-white/6 text-sm" href="https://wa.me/254717028877?text=I%20want%20to%20earn%20by%20watching%20videos" target="_blank">Start Earning</a>
            <span class="text-xs text-slate-400">Per video payout</span>
          </div>
        </article>

        <!-- Card 3 - Roulette -->
        <article class="shiny-card" data-key="roulette" role="button" tabindex="0" aria-pressed="false" style="--g: conic-gradient(#ff9f9f,#ffd97a,#c6ffb3,#9fe9ff,#cfc2ff);">
          <h3 class="earn-title rainbow font-bold text-lg">3. Roulette Casino Spin</h3>
          <p class="mt-2 text-sm text-slate-200">Use earned credits to play the roulette. Win prizes, bonuses, and multipliers. Responsible play is enforced.</p>
          <div class="mt-3 flex items-center justify-between">
            <a class="px-3 py-2 rounded-lg bg-white/6 text-sm" href="https://wa.me/254717028877?text=I%20want%20to%20try%20the%20roulette" target="_blank">Play via WhatsApp</a>
            <span class="text-xs text-slate-400">Win prizes & bonuses</span>
          </div>
        </article>

        <!-- Card 4 - Games -->
        <article class="shiny-card" data-key="games" role="button" tabindex="0" aria-pressed="false" style="--g: conic-gradient(#ffd6f0,#fce7a9,#d6ffcf,#bfe9ff,#e6d5ff);">
          <h3 class="earn-title rainbow font-bold text-lg">4. Online Games (Chess & Draught)</h3>
          <p class="mt-2 text-sm text-slate-200">Compete in skill-based games with entry fees and prize pools. Join tournaments and climb leaderboards.</p>
          <div class="mt-3 flex items-center justify-between">
            <a class="px-3 py-2 rounded-lg bg-white/6 text-sm" href="https://wa.me/254717028877?text=I%20want%20to%20join%20game%20tournaments" target="_blank">Join Tournaments</a>
            <span class="text-xs text-slate-400">Skill-based rewards</span>
          </div>
        </article>

        <!-- Card 5 - Ads -->
        <article class="shiny-card" data-key="ads" role="button" tabindex="0" aria-pressed="false" style="--g: conic-gradient(#ffef9f,#ffe0a8,#bff5d0,#c9f0ff,#e8dfff);">
          <h3 class="earn-title rainbow font-bold text-lg">5. Advertisement Clicks</h3>
          <p class="mt-2 text-sm text-slate-200">Interact with vetted advertisers and earn for validated clicks. Ads are quality-checked and limited per user to ensure fair payouts.</p>
          <div class="mt-3 flex items-center justify-between">
            <a class="px-3 py-2 rounded-lg bg-white/6 text-sm" href="https://wa.me/254717028877?text=I%20want%20to%20earn%20from%20ads" target="_blank">Get Started</a>
            <span class="text-xs text-slate-400">Daily limits apply</span>
          </div>
        </article>

        <!-- Card 6 - Forex -->
        <article class="shiny-card" data-key="forex" role="button" tabindex="0" aria-pressed="false" style="--g: conic-gradient(#ffd4e0,#ffefb3,#d5ffd8,#d0f1ff,#e8deff);">
          <h3 class="earn-title rainbow font-bold text-lg">6. Forex Trading</h3>
          <p class="mt-2 text-sm text-slate-200">Access educational resources, demo accounts and partner brokers. Trade forex with optional managed accounts.</p>
          <div class="mt-3 flex items-center justify-between">
            <a class="px-3 py-2 rounded-lg bg-white/6 text-sm" href="https://wa.me/254717028877?text=I%20am%20interested%20in%20forex%20trading" target="_blank">Learn More</a>
            <span class="text-xs text-slate-400">Risk warnings shown</span>
          </div>
        </article>

        <!-- Card 7 - AI -->
        <article class="shiny-card" data-key="ai" role="button" tabindex="0" aria-pressed="false" style="--g: conic-gradient(#ffd9ff,#ffdcb1,#baffd8,#bfe8ff,#ded3ff);">
          <h3 class="earn-title rainbow font-bold text-lg">7. Artificial Intelligence</h3>
          <p class="mt-2 text-sm text-slate-200">Monetize AI tools: generate content, analyze trends, and offer automation services. Sell prompts or services via the marketplace.</p>
          <div class="mt-3 flex items-center justify-between">
            <a class="px-3 py-2 rounded-lg bg-white/6 text-sm" href="https://wa.me/254717028877?text=I%20want%20to%20use%20AI%20tools" target="_blank">Discover AI</a>
            <span class="text-xs text-slate-400">Create & sell</span>
          </div>
        </article>

        <!-- Card 8 - NFTs / Metaverse -->
        <article class="shiny-card" data-key="nft" role="button" tabindex="0" aria-pressed="false" style="--g: conic-gradient(#ffdfaa,#ffd2f0,#c8ffd3,#ccecff,#eadbff);">
          <h3 class="earn-title rainbow font-bold text-lg">8. Digital Art Marketplace & Virtual Real Estate</h3>
          <p class="mt-2 text-sm text-slate-200">Create, list and sell digital art and trade virtual real estate. Earn royalties and trade properties on curated drops and auctions.</p>
          <div class="mt-3 flex items-center justify-between">
            <a class="px-3 py-2 rounded-lg bg-white/6 text-sm" href="https://wa.me/254717028877?text=I%20want%20to%20sell%20digital%20art" target="_blank">Start Selling</a>
            <span class="text-xs text-slate-400">Royalties enabled</span>
          </div>
        </article>

        <!-- Card 9 - Blogging -->
        <article class="shiny-card" data-key="writing" role="button" tabindex="0" aria-pressed="false" style="--g: conic-gradient(#ffd9b3,#ffe8c6,#cfffda,#cfe9ff,#e7d6ff);">
          <h3 class="earn-title rainbow font-bold text-lg">9. Blogging / Articles Writing</h3>
          <p class="mt-2 text-sm text-slate-200">Publish content and earn per view, ad-share, or sponsored assignments. Top authors receive editorial boosts and monetization perks.</p>
          <div class="mt-3 flex items-center justify-between">
            <a class="px-3 py-2 rounded-lg bg-white/6 text-sm" href="https://wa.me/254717028877?text=I%20want%20to%20write%20for%20HELALINK" target="_blank">Apply as Writer</a>
            <span class="text-xs text-slate-400">Editorial benefits</span>
          </div>
        </article>

        <!-- Card 10 - Gifts -->
        <article class="shiny-card" data-key="gifts" role="button" tabindex="0" aria-pressed="false" style="--g: conic-gradient(#ffd6d6,#fff3b0,#c8ffda,#bfeaff,#e6d7ff);">
          <h3 class="earn-title rainbow font-bold text-lg">10. Surprise Gifts & Offers</h3>
          <p class="mt-2 text-sm text-slate-200">Early members receive giveaways, seasonal bonuses and exclusive offers. Claim rewards from the dashboard or via WhatsApp for priority handling.</p>
          <div class="mt-3 flex items-center justify-between">
            <a class="px-3 py-2 rounded-lg bg-white/6 text-sm" href="https://wa.me/254717028877?text=I%20want%20to%20claim%20offers" target="_blank">Claim Offers</a>
            <span class="text-xs text-slate-400">Exclusive drops</span>
          </div>
        </article>

      </div>
    </section>

    <!-- Professional joiners (simulated fallback) -->
    <section id="join" class="mt-16">
      <div class="flex items-center justify-between">
        <h2 class="text-2xl font-bold">Real-time Joiners</h2>
        <div class="text-sm text-slate-400">Showing latest members from across the globe</div>
      </div>

      <div class="mt-4 grid md:grid-cols-2 gap-4">
        <div class="glass rounded-2xl p-4">
          <div class="grid gap-3" id="professionalFeed"></div>
        </div>

        <div class="glass rounded-2xl p-4 flex flex-col gap-3">
          <div class="font-semibold">Members Online</div>
          <div id="onlineList" class="flex gap-3 flex-wrap"></div>
          <div class="mt-2 text-xs text-slate-400">Active dot shows current online presence. Timestamps are updated live.</div>
        </div>
      </div>
    </section>

    <!-- Footer CTA -->
    <section class="mt-12 text-center">
      <div class="inline-flex items-center gap-4 glass p-4 rounded-2xl">
        <div class="text-left">
          <div class="text-sm text-slate-400">Want priority access and launch perks?</div>
          <div class="font-bold text-lg">Join HELALINK early via WhatsApp</div>
        </div>
        <div>
          <a href="https://wa.me/254717028877?text=Hi%20HELALINK!%20I%20want%20priority%20access" target="_blank" class="px-4 py-3 rounded-2xl bg-gradient-to-r from-amber-400 to-pink-400 text-black font-semibold">Click to Join • 0717028877</a>
        </div>
      </div>
    </section>
  </main>

  <!-- Floating WhatsApp FAB -->
  <a class="fixed right-6 bottom-6 inline-flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-tr from-emerald-400 to-cyan-400 shadow-xl" target="_blank" rel="noopener" href="https://wa.me/254717028877?text=Hi%20HELALINK!%20Add%20me%20to%20the%20waitlist." aria-label="Open WhatsApp">
    <svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8 text-black" viewBox="0 0 24 24" fill="currentColor"><path d="M20.52 3.48A11.92 11.92 0 0 0 12.05 0C5.4 0 .03 5.36.03 12a11.9 11.9 0 0 0 1.63 6L0 24l6.16-1.61A11.95 11.95 0 0 0 12 24h.01c6.64 0 12.02-5.36 12.02-12.01 0-3.21-1.25-6.23-3.51-8.51Zm-8.5 19.05h-.01a9.9 9.9 0 0 1-5.05-1.38l-.36-.2-3.65.96.98-3.56-.24-.37a9.9 9.9 0 0 1-1.51-5.26c0-5.46 4.45-9.9 9.93-9.9 2.65 0 5.15 1.03 7.02 2.9a9.8 9.8 0 0 1 2.9 7c0 5.47-4.46 9.91-10 9.91Zm5.44-7.43c-.3-.15-1.76-.87-2.03-.97-.27-.1-.47-.15-.67.15s-.77.97-.94 1.17-.35.22-.64.07c-.3-.15-1.26-.46-2.4-1.47-.89-.78-1.48-1.74-1.65-2.03-.17-.3-.02-.46.13-.61.14-.14.3-.37.45-.56.15-.19.2-.3.3-.5.1-.2.05-.37-.02-.52-.08-.15-.67-1.62-.92-2.22-.24-.58-.49-.5-.67-.51h-.57c-.2 0-.52.07-.8.37-.27.3-1.03 1-1.03 2.46s1.06 2.86 1.2 3.06c.15.2 2.08 3.18 5.04 4.45.7.3 1.24.48 1.66.62.7.22 1.34.19 1.85.12.56-.08 1.76-.72 2.01-1.41.25-.7.25-1.3.17-1.41-.08-.12-.27-.2-.57-.35Z"/></svg>
  </a>

  <!-- Toast -->
  <div id="toast" style="position:fixed;left:50%;transform:translateX(-50%);bottom:92px;background:#0b1220;padding:10px 14px;border-radius:10px;border:1px solid rgba(255,255,255,0.05);display:none;z-index:1000;color:#e6eef8"></div>

  <!-- OneSignal SDK (client) - using snippet you provided -->
  <script src="https://cdn.onesignal.com/sdks/web/v16/OneSignalSDK.page.js" defer></script>
  <script>
    window.OneSignalDeferred = window.OneSignalDeferred || [];
    OneSignalDeferred.push(async function(OneSignal) {
      await OneSignal.init({
        appId: "cd687662-396c-413c-a462-dfb8c5890352",
        allowLocalhostAsSecureOrigin: true,
        welcomeNotification: { title: "HELALINK", message: "Thanks for enabling HELALINK notifications!" }
      });
      // expose for the rest of the script
      window.OneSignalInstance = OneSignal;
      console.log('OneSignal initialized (client).');
    });
  </script>

  <script>
    /************************************************************
     * UI + Interaction logic:
     * - single-select behavior for earnings cards (select one at a time)
     * - show a moving triangular marker above the selected card
     * - draw an animated shiny separator line near the selected card to "separate" it visually
     * - sync interest tags to OneSignal when the user is subscribed
     * - robust event wiring so buttons work
     ************************************************************/

    // helpers
    function showToast(msg, ms = 3500) {
      const t = document.getElementById('toast');
      t.textContent = msg;
      t.style.display = 'block';
      clearTimeout(t._hideTimeout);
      t._hideTimeout = setTimeout(()=> t.style.display = 'none', ms);
    }

    // Typing + countdown
    const typeEl = document.getElementById('type');
    const phrases = ['Online Business Platform','Set New Records in Networking 🎊','HELALINK Agencies dropping soon ♦️','Launch: 13 Sep 2025 • 2PM EAT'];
    let pi=0, ci=0, deleting=false;
    function tick(){ const full=phrases[pi]; if(!deleting) ci++; else ci--; typeEl.textContent=full.slice(0,ci); if(!deleting && ci===full.length){deleting=true; setTimeout(tick,1200); return} if(deleting && ci===0){deleting=false; pi=(pi+1)%phrases.length} setTimeout(tick, deleting?40:70);} tick();

    const cd = document.getElementById('countdown');
    const launchDate = new Date('2025-09-13T11:00:00Z'); // 2:00 PM EAT
    function updateCountdown(){ const now=new Date(); let diff=Math.max(0, launchDate - now); const d=Math.floor(diff/86400000); diff -= d*86400000; const h=Math.floor(diff/3600000); diff -= h*3600000; const m=Math.floor(diff/60000); diff -= m*60000; const s=Math.floor(diff/1000); cd.textContent = `${d}d ${h}h ${m}m ${s}s`; }
    updateCountdown(); setInterval(updateCountdown,1000);

    // Simulated joiners (same as before)
    const professionalFeed = document.getElementById('professionalFeed');
    const onlineList = document.getElementById('onlineList');
    const names = ['Amina','Jayden','Fatma','Olu','Grace','Rashid','Ivy','Zara','Kofi','Liam','Tariq','Mira','Noah','Leah','Kwame','Nadia','Yusuf','Aaliyah'];
    const countries = [{c:'Kenya',f:'🇰🇪'},{c:'Tanzania',f:'🇹🇿'},{c:'Uganda',f:'🇺🇬'},{c:'Nigeria',f:'🇳🇬'},{c:'Ghana',f:'🇬🇭'},{c:'Rwanda',f:'🇷🇼'},{c:'Ethiopia',f:'🇪🇹'},{c:'South Africa',f:'🇿🇦'},{c:'Egypt',f:'🇪🇬'},{c:'UAE',f:'🇦🇪'},{c:'India',f:'🇮🇳'}];
    function avatar(seed){ return `https://api.dicebear.com/8.x/thumbs/svg?seed=${encodeURIComponent(seed)}&backgroundType=gradientLinear&radius=50`; }
    function timeAgo(date){ const s=Math.floor((Date.now()-date)/1000); if(s<5) return 'just now'; if(s<60) return `${s}s ago`; const m=Math.floor(s/60); if(m<60) return `${m}m ago`; const h=Math.floor(m/60); return `${h}h ago`; }
    function createProfessionalEntry({name,country,flag,joined}) {
      const wrapper = document.createElement('div'); wrapper.className='joiner-card';
      wrapper.innerHTML = `
        <img src="${avatar(name+country)}" alt="${name}" class="w-12 h-12 rounded-full" />
        <div class="flex-1 min-w-0">
          <div class="flex items-center justify-between">
            <div class="truncate">
              <div class="font-semibold">${name}</div>
              <div class="text-xs text-slate-400">${flag} ${country} • New member</div>
            </div>
            <div class="text-right">
              <div class="text-xs text-slate-400">${timeAgo(joined)}</div>
              <div class="dot-pulse mt-2"><span class="active-dot" style="display:inline-block;width:10px;height:10px;border-radius:999px;background:#22c55e"></span></div>
            </div>
          </div>
          <div class="mt-2 text-xs text-slate-400">Joined via WhatsApp • ${new Date(joined).toLocaleString()}</div>
        </div>
      `;
      return wrapper;
    }
    function addLocalProfessional(){
      const name = names[Math.floor(Math.random()*names.length)];
      const cc = countries[Math.floor(Math.random()*countries.length)];
      const joined = Date.now();
      const entry = createProfessionalEntry({name,country:cc.c,flag:cc.f,joined});
      professionalFeed.prepend(entry);
      while(professionalFeed.children.length>8) professionalFeed.lastElementChild.remove();

      const onlineChip = document.createElement('div'); onlineChip.className='flex items-center gap-2 p-1 rounded-full bg-white/3';
      onlineChip.innerHTML = `<img src="${avatar(name+cc.c)}" class="w-8 h-8 rounded-full"/><div class="text-xs font-medium">${name}</div>`;
      onlineList.prepend(onlineChip);
      while(onlineList.children.length>12) onlineList.lastElementChild.remove();
    }
    for(let i=0;i<5;i++){ addLocalProfessional(); }
    setInterval(addLocalProfessional, 4200 + Math.random()*3000);

    // Interests: single-select behavior
    const earnGrid = document.getElementById('earnGrid');
    const cardList = Array.from(document.querySelectorAll('.shiny-card[data-key]'));
    let selectedKey = localStorage.getItem('hl_selected_key') || null;

    // Triangle marker + separator elements
    const triangle = document.getElementById('triangleMarker');
    const separatorSVG = document.getElementById('separatorLine');
    const sepPath = document.getElementById('sepPath');

    function deselectAll() {
      cardList.forEach(c => { c.classList.remove('selected'); c.setAttribute('aria-pressed','false'); });
      selectedKey = null;
      localStorage.removeItem('hl_selected_key');
      // hide visuals
      triangle.style.opacity = '0';
      separatorSVG.style.opacity = '0';
      // If subscribed, clear tags to 0 for all interests
      if (window.OneSignalInstance && typeof window.OneSignalInstance.sendTags === 'function') {
        const tags = {};
        document.querySelectorAll('.shiny-card[data-key]').forEach(card=> {
          tags['interest_' + card.getAttribute('data-key')] = '0';
        });
        window.OneSignalInstance.sendTags(tags).catch(()=>{});
      }
    }

    function selectCard(card) {
      // single-select: deselect others
      deselectAll();
      card.classList.add('selected'); card.setAttribute('aria-pressed','true');
      const key = card.getAttribute('data-key');
      selectedKey = key;
      localStorage.setItem('hl_selected_key', key);

      // Move triangle marker to top-center of the selected card
      const rect = card.getBoundingClientRect();
      const rootRect = document.getElementById('pageRoot').getBoundingClientRect();
      const triX = rect.left + rect.width/2 - rootRect.left - (triangle.clientWidth/2 || 14);
      const triY = rect.top - rootRect.top - 18; // slightly above the card
      triangle.style.transform = `translate(${Math.round(triX)}px, ${Math.round(triY)}px) scale(1)`;
      triangle.style.opacity = '1';

      // Draw a shiny separator line between selected card and its nearest neighbor (to visually separate)
      // We'll find the nearest other card (by center distance) and draw a curved path between centers
      let nearest = null;
      let nearestDist = Infinity;
      const centerA = { x: rect.left + rect.width/2 - rootRect.left, y: rect.top + rect.height/2 - rootRect.top };
      cardList.forEach(c => {
        if (c === card) return;
        const r = c.getBoundingClientRect();
        const centerB = { x: r.left + r.width/2 - rootRect.left, y: r.top + r.height/2 - rootRect.top };
        const dx = centerA.x - centerB.x, dy = centerA.y - centerB.y;
        const d = Math.hypot(dx,dy);
        if (d < nearestDist) { nearestDist = d; nearest = { rect: r, center: centerB }; }
      });

      if (nearest) {
        separatorSVG.style.opacity = '1';
        // map separator SVG viewBox size to pageRoot width (we'll update viewBox dynamically)
        const svgLeft = 0;
        const svgWidth = rootRect.width;
        const svgHeight = separatorSVG.clientHeight || 60;
        separatorSVG.setAttribute('viewBox', `0 0 ${svgWidth} ${svgHeight}`);
        // draw path from a point slightly above selected card to slightly above nearest card
        const startX = centerA.x;
        const startY = Math.max(12, rect.top - rootRect.top - 6); // above card top
        const endX = nearest.center.x;
        const endY = Math.max(12, nearest.rect.top - rootRect.top - 6);
        // Use a smooth cubic Bezier curve
        const ctrlX1 = startX;
        const ctrlY1 = (startY + endY)/2 - 20;
        const ctrlX2 = endX;
        const ctrlY2 = (startY + endY)/2 - 20;
        const d = `M ${startX} ${startY} C ${ctrlX1} ${ctrlY1}, ${ctrlX2} ${ctrlY2}, ${endX} ${endY}`;
        sepPath.setAttribute('d', d);
        // ensure path length animation restarts
        void sepPath.getBoundingClientRect();
      } else {
        separatorSVG.style.opacity = '0';
      }

      // If subscribed to OneSignal, send tags: set selected interest to 1, others to 0
      if (window.OneSignalInstance && typeof window.OneSignalInstance.sendTags === 'function') {
        const tags = {};
        document.querySelectorAll('.shiny-card[data-key]').forEach(c => {
          const k = c.getAttribute('data-key');
          tags['interest_' + k] = (k === key ? '1' : '0');
        });
        window.OneSignalInstance.sendTags(tags).then(()=> {
          showToast('Interest saved (we will notify you).');
        }).catch(e => {
          console.warn('sendTags failed', e);
        });
      } else {
        // not subscribed yet: persist interest locally (we'll sync on subscribe)
        localStorage.setItem('hl_pending_interest', JSON.stringify({ selected: key }));
        showToast('Interest saved locally. Enable notifications to receive targeted messages.');
      }
    }

    // wire card click handlers (and keyboard)
    cardList.forEach(card => {
      card.addEventListener('click', (e) => {
        if ((e.target.tagName||'').toLowerCase() === 'a') return; // allow links
        selectCard(card);
      });
      card.addEventListener('keydown', (e) => {
        if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); selectCard(card); }
      });
    });

    // restore selection if present
    const previous = localStorage.getItem('hl_selected_key');
    if (previous) {
      const el = document.querySelector(`.shiny-card[data-key="${previous}"]`);
      if (el) {
        // slight delay to allow layout
        setTimeout(()=> selectCard(el), 200);
      }
    }

    // When window resizes, reposition triangle & separator if needed
    let resizeTimer = null;
    window.addEventListener('resize', () => {
      if (!selectedKey) return;
      clearTimeout(resizeTimer);
      resizeTimer = setTimeout(()=> {
        const el = document.querySelector(`.shiny-card[data-key="${selectedKey}"]`);
        if (el) selectCard(el);
      }, 150);
    });

    // ---- OneSignal integration wiring for the Enable Notifications button ----
    document.getElementById('notifyBtn').addEventListener('click', async () => {
      try {
        // Wait for OneSignalInstance to be initialized (the SDK uses OneSignalDeferred)
        const waitForOneSignal = () => new Promise((resolve) => {
          const max = 8000; let waited = 0;
          const iv = setInterval(() => {
            if (window.OneSignalInstance) { clearInterval(iv); resolve(true); }
            waited += 200;
            if (waited >= max) { clearInterval(iv); resolve(false); }
          }, 200);
        });
        const loaded = await waitForOneSignal();
        if (!loaded) {
          showToast('Notification system is still loading. Please try again in a moment.');
          return;
        }
        const OneSignal = window.OneSignalInstance;

        // Use native prompt if available
        try {
          if (typeof OneSignal.showNativePrompt === 'function') {
            await OneSignal.showNativePrompt();
          } else if (typeof OneSignal.showSlidedownPrompt === 'function') {
            await OneSignal.showSlidedownPrompt();
          } else if (typeof OneSignal.registerForPushNotifications === 'function') {
            await OneSignal.registerForPushNotifications();
          } else {
            // fallback to Notification permission
            const p = await Notification.requestPermission();
            if (p !== 'granted') {
              showToast('Permission denied.');
              return;
            }
          }
        } catch (err) {
          console.warn('Prompt failed, fallback to Notification API', err);
          try { await Notification.requestPermission(); } catch(e) {}
        }

        // After prompting, check subscription state and sync tags if subscribed
        try {
          const isEnabled = await OneSignal.isPushNotificationsEnabled();
          if (isEnabled) {
            // mark subscribed locally
            localStorage.setItem('hl_subscribed', '1');
            // send baseline tags + interest (if any)
            const tags = { helalink_subscribed: '1', signup_source: 'web-landing' };
            const pending = JSON.parse(localStorage.getItem('hl_pending_interest') || 'null');
            const storedSelected = localStorage.getItem('hl_selected_key');
            // set interest tags explicitly for all keys
            document.querySelectorAll('.shiny-card[data-key]').forEach(card => {
              const k = card.getAttribute('data-key');
              if (storedSelected && storedSelected === k) tags['interest_' + k] = '1';
              else if (pending && pending.selected === k) tags['interest_' + k] = '1';
              else tags['interest_' + k] = '0';
            });
            await OneSignal.sendTags(tags);
            showToast('Notifications enabled ✅');
          } else {
            showToast('Notifications are blocked or not enabled.');
          }
        } catch (e) {
          console.warn('post-permission handling error', e);
          showToast('Could not complete subscription steps. Check console.');
        }

      } catch (err) {
        console.error('notifyBtn top-level error', err);
        showToast('Something went wrong. See console for details.');
      }
    });

    // Sync local pending interest once OneSignal initialized and subscription exists
    (function waitForOneSignalAndSync() {
      const trySync = async () => {
        if (!window.OneSignalInstance) { setTimeout(trySync, 400); return; }
        const OneSignal = window.OneSignalInstance;
        try {
          const enabled = await OneSignal.isPushNotificationsEnabled();
          if (enabled) {
            const tags = { helalink_subscribed: '1', signup_source: 'web-landing' };
            const storedSelected = localStorage.getItem('hl_selected_key');
            document.querySelectorAll('.shiny-card[data-key]').forEach(card => {
              const k = card.getAttribute('data-key');
              tags['interest_' + k] = (storedSelected && storedSelected === k) ? '1' : '0';
            });
            await OneSignal.sendTags(tags);
            // clear pending
            localStorage.removeItem('hl_pending_interest');
            console.log('Synced tags to OneSignal on init.');
          }
        } catch(e) {
          // ignore - will retry later only if user interacts
          console.warn('initial tag sync failed', e);
        }
      };
      setTimeout(trySync, 600);
    })();

    // allow clicking outside to deselect (optional)
    document.addEventListener('click', (e) => {
      const within = e.target.closest('.shiny-card');
      const inNotifyBtn = e.target.closest('#notifyBtn');
      if (!within && !inNotifyBtn) {
        // do nothing on body clicks? user asked to separate/isolated selection - we keep selection until user clicks another card.
        // If you prefer clicking outside to deselect, uncomment:
        // deselectAll();
      }
    });

    // small accessibility: allow Enter on notify button
    document.getElementById('notifyBtn').addEventListener('keydown', (e) => {
      if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); e.target.click(); }
    });

    // ensure anchor links open normally (no accidental preventDefault)
    document.querySelectorAll('a').forEach(a => {
      a.addEventListener('click', (e) => {
        // allow default behaviour
      });
    });

  </script>
</body>
</html>
